{"ast":null,"code":"import{useState,useEffect,useMemo,useCallback}from'react';import{getContent}from'../firebaseHelpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Partners(_ref){let{language,content}=_ref;const t=content[language];// Load partners from Firebase\nconst[partners,setPartners]=useState([]);// Default partners constant\nconst DEFAULT_PARTNERS=useMemo(()=>[{id:1,nameEn:'MK Elite',nameAr:'MK Elite',logoPath:'partner 1.jpeg',order:1},{id:2,nameEn:'ALQAWASMI',nameAr:'ALQAWASMI',logoPath:'Partener 2.png',order:2},{id:3,nameEn:'Management & Science University',nameAr:'Management & Science University',logoPath:'parnter 3.jpeg',order:3},{id:4,nameEn:'UCSI University',nameAr:'UCSI University',logoPath:'parnter 4.jpeg',order:4},{id:5,nameEn:'Duy Tân University',nameAr:'Duy Tân University',logoPath:'partener 5.jpeg',order:5}],[]);// Validate partner object has all required fields\nconst validatePartner=partner=>{if(!partner||typeof partner!=='object'){console.warn('Invalid partner object:',partner);return false;}const requiredFields=['id','nameEn','nameAr','logoPath','order'];const missingFields=requiredFields.filter(field=>!(field in partner));if(missingFields.length>0){console.warn(\"Partner missing required fields: \".concat(missingFields.join(', ')),partner);return false;}return true;};// Initialize default partners\nconst initializeDefaultPartners=useCallback(()=>{console.log('Using default partners');return DEFAULT_PARTNERS;},[DEFAULT_PARTNERS]);useEffect(()=>{const loadPartners=async()=>{try{const partnersData=await getContent('partners');if(partnersData&&partnersData.partners&&Array.isArray(partnersData.partners)){// Filter out invalid partners\nconst validPartners=partnersData.partners.filter(validatePartner);if(validPartners.length===0){console.warn('No valid partners found, using defaults');const defaults=initializeDefaultPartners();setPartners(defaults.sort((a,b)=>a.order-b.order));return;}if(validPartners.length<partnersData.partners.length){console.warn(\"Filtered out \".concat(partnersData.partners.length-validPartners.length,\" invalid partners\"));}setPartners(validPartners.sort((a,b)=>a.order-b.order));}else{console.log('No partners in Firebase, using defaults');const defaults=initializeDefaultPartners();setPartners(defaults.sort((a,b)=>a.order-b.order));}}catch(error){console.error('Error loading partners from Firebase:',error);setPartners(DEFAULT_PARTNERS.sort((a,b)=>a.order-b.order));}};loadPartners();// Reload every 5 seconds to get updates from admin panel\nconst interval=setInterval(loadPartners,5000);return()=>clearInterval(interval);},[DEFAULT_PARTNERS,initializeDefaultPartners]);// Get partner name with placeholder for empty values\nconst getPartnerName=partner=>{const name=language==='ar'?partner.nameAr:partner.nameEn;if(!name||name.trim()===''){console.warn('Partner has empty name:',partner);return language==='ar'?'شريك بدون اسم':'Unnamed Partner';}return name;};return/*#__PURE__*/_jsx(\"section\",{className:\"partners page-section scroll-animate\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t.partners.title}),/*#__PURE__*/_jsx(\"p\",{className:\"partners-intro\",children:t.partners.intro}),/*#__PURE__*/_jsx(\"div\",{className:\"partners-grid\",children:partners.map(partner=>/*#__PURE__*/_jsxs(\"div\",{className:\"partner-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/\").concat(partner.logoPath),alt:getPartnerName(partner)}),/*#__PURE__*/_jsx(\"h3\",{className:\"partner-name\",children:getPartnerName(partner)})]},partner.id))})]})});}export default Partners;","map":{"version":3,"names":["useState","useEffect","useMemo","useCallback","getContent","jsx","_jsx","jsxs","_jsxs","Partners","_ref","language","content","t","partners","setPartners","DEFAULT_PARTNERS","id","nameEn","nameAr","logoPath","order","validatePartner","partner","console","warn","requiredFields","missingFields","filter","field","length","concat","join","initializeDefaultPartners","log","loadPartners","partnersData","Array","isArray","validPartners","defaults","sort","a","b","error","interval","setInterval","clearInterval","getPartnerName","name","trim","className","children","title","intro","map","src","process","env","PUBLIC_URL","alt"],"sources":["C:/Users/marwa/Music/mkprime/src/pages/Partners.js"],"sourcesContent":["import { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { getContent } from '../firebaseHelpers';\r\n\r\nfunction Partners({ language, content }) {\r\n  const t = content[language];\r\n  \r\n  // Load partners from Firebase\r\n  const [partners, setPartners] = useState([]);\r\n  \r\n  // Default partners constant\r\n  const DEFAULT_PARTNERS = useMemo(() => [\r\n    { \r\n      id: 1,\r\n      nameEn: 'MK Elite',\r\n      nameAr: 'MK Elite',\r\n      logoPath: 'partner 1.jpeg',\r\n      order: 1\r\n    },\r\n    { \r\n      id: 2,\r\n      nameEn: 'ALQAWASMI',\r\n      nameAr: 'ALQAWASMI',\r\n      logoPath: 'Partener 2.png',\r\n      order: 2\r\n    },\r\n    { \r\n      id: 3,\r\n      nameEn: 'Management & Science University',\r\n      nameAr: 'Management & Science University',\r\n      logoPath: 'parnter 3.jpeg',\r\n      order: 3\r\n    },\r\n    { \r\n      id: 4,\r\n      nameEn: 'UCSI University',\r\n      nameAr: 'UCSI University',\r\n      logoPath: 'parnter 4.jpeg',\r\n      order: 4\r\n    },\r\n    { \r\n      id: 5,\r\n      nameEn: 'Duy Tân University',\r\n      nameAr: 'Duy Tân University',\r\n      logoPath: 'partener 5.jpeg',\r\n      order: 5\r\n    },\r\n  ], []);\r\n\r\n  // Validate partner object has all required fields\r\n  const validatePartner = (partner) => {\r\n    if (!partner || typeof partner !== 'object') {\r\n      console.warn('Invalid partner object:', partner);\r\n      return false;\r\n    }\r\n    \r\n    const requiredFields = ['id', 'nameEn', 'nameAr', 'logoPath', 'order'];\r\n    const missingFields = requiredFields.filter(field => !(field in partner));\r\n    \r\n    if (missingFields.length > 0) {\r\n      console.warn(`Partner missing required fields: ${missingFields.join(', ')}`, partner);\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  // Initialize default partners\r\n  const initializeDefaultPartners = useCallback(() => {\r\n    console.log('Using default partners');\r\n    return DEFAULT_PARTNERS;\r\n  }, [DEFAULT_PARTNERS]);\r\n  \r\n  useEffect(() => {\r\n    const loadPartners = async () => {\r\n      try {\r\n        const partnersData = await getContent('partners');\r\n        \r\n        if (partnersData && partnersData.partners && Array.isArray(partnersData.partners)) {\r\n          // Filter out invalid partners\r\n          const validPartners = partnersData.partners.filter(validatePartner);\r\n          \r\n          if (validPartners.length === 0) {\r\n            console.warn('No valid partners found, using defaults');\r\n            const defaults = initializeDefaultPartners();\r\n            setPartners(defaults.sort((a, b) => a.order - b.order));\r\n            return;\r\n          }\r\n          \r\n          if (validPartners.length < partnersData.partners.length) {\r\n            console.warn(`Filtered out ${partnersData.partners.length - validPartners.length} invalid partners`);\r\n          }\r\n          \r\n          setPartners(validPartners.sort((a, b) => a.order - b.order));\r\n        } else {\r\n          console.log('No partners in Firebase, using defaults');\r\n          const defaults = initializeDefaultPartners();\r\n          setPartners(defaults.sort((a, b) => a.order - b.order));\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading partners from Firebase:', error);\r\n        setPartners(DEFAULT_PARTNERS.sort((a, b) => a.order - b.order));\r\n      }\r\n    };\r\n    \r\n    loadPartners();\r\n    \r\n    // Reload every 5 seconds to get updates from admin panel\r\n    const interval = setInterval(loadPartners, 5000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [DEFAULT_PARTNERS, initializeDefaultPartners]);\r\n\r\n  // Get partner name with placeholder for empty values\r\n  const getPartnerName = (partner) => {\r\n    const name = language === 'ar' ? partner.nameAr : partner.nameEn;\r\n    \r\n    if (!name || name.trim() === '') {\r\n      console.warn('Partner has empty name:', partner);\r\n      return language === 'ar' ? 'شريك بدون اسم' : 'Unnamed Partner';\r\n    }\r\n    \r\n    return name;\r\n  };\r\n\r\n  return (\r\n    <section className=\"partners page-section scroll-animate\">\r\n      <div className=\"container\">\r\n        <h2>{t.partners.title}</h2>\r\n        <p className=\"partners-intro\">{t.partners.intro}</p>\r\n        \r\n        <div className=\"partners-grid\">\r\n          {partners.map((partner) => (\r\n            <div key={partner.id} className=\"partner-card\">\r\n              <img \r\n                src={`${process.env.PUBLIC_URL}/${partner.logoPath}`} \r\n                alt={getPartnerName(partner)} \r\n              />\r\n              <h3 className=\"partner-name\">{getPartnerName(partner)}</h3>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Partners;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}